
<button class="edit-recipe cancel-recipe-edit hidden">Cancel Edit</button>
<section class="recipe-view">
<h2>{{detail.title}}</h2>
<p>{{detail.general_recipe_comment}}<p>
<br>
<a ng-href="#/users/{{username}}/recipes/{{detail.id}}/brewit"><button>BREW IT!</button></a>
<!-- <button>Make Public</button> -->
<button ng-Click="cloneRecipe(detail)">Clone</button>
<button class="recipe-view edit-button {{detail.id}}">Edit Recipe</button>
<button ng-click="Eliminate()">Delete</button>
<br>
<br>
<p><strong ng-show="detail.orientation">Orientation:</strong> {{detail.orientation}}
<p><strong ng-show="detail.rating">Rating:</strong> {{detail.rating}}
<p><strong ng-show="detail.bean_name">Bean Type:</strong> {{detail.bean_name}}
<p><strong ng-show="detail.roast">Bean Roast:</strong> {{detail.roast}}
<p><strong ng-show="detail.grind">Grind:</strong> {{detail.grind}}
<p><strong ng-show="detail.total_bean_amount">Bean Amount:</strong> {{detail.total_bean_amount}} {{detail.bean_units}}
<p><strong ng-show="detail.total_water_amount">Water:</strong> {{detail.water_type}} {{detail.total_water_amount}} {{detail.water_units}}
<p ng-show="detail.temp"><strong>Water Temp:</strong> {{detail.temp}} &deg;F<p>
<!-- <strong>Brew Count:</strong> {{detail.brew_count}} brews -->
<p><strong>Total Duration:</strong> {{detail.total_duration}} seconds
<br>
<h2>Steps:</h2>
<div ng-repeat="step in steps">
    <a href="" class="show-steps" ng-click="showSteps(step.id)"><strong>Step {{step.step_number}}: {{step.step_title}}:</strong> </a> {{step.duration}} seconds
    <button ng-click="showEditStep(step.id)">Edit Step</button>
    <button ng-click="deleteStep(step.step_number, step.id)">Delete Step</button>
    <br>
    <p class="step {{step.id}} hidden">{{step.step_body}}
      <br>
      <span ng-show="step.water_amount">Water: {{step.water_amount}} {{detail.water_units}}</span>
      <!-- <br> -->
    </p>

    <!-- edit step form -->
    <div class="hidden edit-step {{step.id}}">
      <form ng-submit="editStep(step)">
        <section class="columns general">
          <legend><h4>Add Steps</h4></legend>
          <label>Step Title</label>
          <input maxlength="50" type="text" ng-model="step.step_title"></input>
          <label>Step Details</label>
          <textarea maxlength="255" type="text"  ng-model="step.step_body"></textarea>
        </section>
        <section class="columns steps">
          <label>Step Number:</label>
          <input type="number" placeholder="#" ng-model="step.step_number"></input>
          <label>Duration</label>
          <input type="number"  placeholder="#" ng-model="step.duration"></input>
          <label>Water Amount</label>
          <input type="number"  placeholder="#" ng-model="step.water_amount"> </input>
        </section>
        <div class="columns general">
          <button type="submit">Save</button>
          <!-- <button><a href="#/recipe/brew">BREW IT!</a></button> -->
        </div>
      </form><!--edit Step Form-->
      <button ng-click="hideEditStep(step.id)">Cancel</button>
    </div> <!-- edit step form div -->
    <br>
  </div> <!--end ng-repeat for steps -->
  <!-- <div class="addSteps" ng-controller="createNewStep"> -->
  <div class="addSteps">

    <button ng-click="showAddSteps()">Add Steps</button>
    <form class="hidden create-new-step"  ng-submit="submit()">
      <section class="columns general">
        <legend><h4>Add Steps</h4></legend>
        <label>Step Title</label>
        <input maxlength="50" type="text" ng-model="step.step_title" required></input>
        <label>Step Details</label>
        <textarea maxlength="255" type="text" placeholder="Pour slowly, using side-to-side motion to ensure no dry spots" ng-model="step.step_body"></textarea>
      </section>
      <section class="columns steps">
        <label>Step Number:</label>
        <input type="number" placeholder="#" ng-model="step.step_number" min="1" required></input>
        <label>Duration</label>
        <input type="number"  placeholder="#" ng-model="step.duration" min="1" required></input>
        <label>Water Amount</label>
        <input type="number"  placeholder="#" ng-model="step.water_amount"> </input>
      </section>
      <div class="columns general">
        <button type="submit">Add Step</button>
        <!-- <button><a href="#/recipe/brew">BREW IT!</a></button> -->
      </div>
    </form><!--Add Step Form-->
    <button class="hidden done-adding" ng-click="hideAddSteps()">Done Adding Steps</button>
  </div> <!-- add step section -->
  <a href="" ng-click="showNotes()"><h2>Brew Notes:</h2></a>
  <div class="notes hidden" ng-repeat="note in notes | orderBy: 'note.timestamp'">
    <strong>{{note.body}}</strong>
    <br>
    posted {{note.timestamp | date}}
    <br>
    <br>
  </div>
</section><!--.recipe-view-->


<section class="edit-recipe hidden">
<form class="edit-recipe" ng-submit="editRecipe(detail)">
  <section class="columns general">
  <fieldset>
    <label>Recipe Title*</label>
    <input placeholder="#" maxlength="50"  ng-model="detail.title"></input>
    <label>General Recipe Comment</label>
    <textarea placeholder="#"  ng-model="detail.general_recipe_comment"></textarea>
  </fieldset><!--General Details-->
  </section>
  <section class="columns">
    <fieldset>
      <legend><h4>Bean Details</h4></legend>
      <label>Bean Name</label>
      <input max="50" placeholder="#" ng-model="detail.bean_name"></input>
      <label>Bean Roast</label>
      <input max="15" placeholder="#" ng-model="detail.roast"></input>
      <label>Grind</label>
      <input maxlength="12" placeholder="#" ng-model="detail.grind"></input>
      <label>Bean Amount</label>
      <input type="number"  placeholder="#" ng-model="detail.total_bean_amount"></input>
      <label>Bean Units</label>
      <input max="12" placeholder="#" ng-model="detail.bean_units"></input>
  </fieldset><!--Bean Details-->
  </section>
  <section class="columns">
    <fieldset>
      <legend><h4>Water Details</h4></legend>
      <label>Water Type</label>
      <input maxlength="50"  placeholder="#" ng-model="detail.water_type"></input>
      <label>Water Amount</label>
      <input  placeholder="#" ng-model="detail.total_water_amount"></input>
      <label>Water Amount Units</label>
      <input maxlength="12" placeholder="#"  ng-model="detail.water_units"></input>
      <label>Temp</label>
      <input placeholder="#" ng-model="detail.temp"></input>
      <label>Orientation</label>
      <select ng-model="detail.orientation">
        <option>Standard</option>
        <option>Inverted</option>
      </select>
    </fieldset><!--Water Details-->
  </section>
  <button class="submit-recipe-edit" type="submit">Submit</button>
</form><!--Edit Recipe Form-->
</section>
