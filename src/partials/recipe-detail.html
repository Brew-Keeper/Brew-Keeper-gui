<section class="recipe-detail">
<button class="edit-recipe cancel-recipe-edit hidden">Cancel Edit</button>
<section class="recipe-view">
  <h3 class="title">{{detail.title}}</h3>
  <!-- star rating -->
  <div class="col-1-3">
    <span ng-repeat="rating in ratings">
      <div star-rating rating-value="rating.current" max="rating.max" ng-click="rateRecipe(rating.current)"></div>
    </span>
  </div>
  <!-- end star rating -->
  <div class="col-1-3 brew-count">
    <img src="img/CoffeeCup-65.svg"> x {{detail.brew_count}}
  </div>
  <div class="brew-it-button">
    <a class="brew-it-button hidden" ng-href="#/users/{{username}}/recipes/{{detail.id}}/brewit">BREW IT!</a>
    <a class="no-steps hidden" href="">Add Steps</a>
  </div>

  <div class="details">
    <div class="detail-icon">
      <img src="img/LightCoffeeBean.svg">
    </div>
    <section class="bean-details">
      <!-- <img src="img/LightCoffeeBean.svg"> -->
      <span>{{detail.bean_name}}</span>
      <span>{{detail.roast}}, {{detail.total_bean_amount}} {{detail.bean_units}},
      {{detail.grind}}</span>
    </section> <!--end section.bean-details -->
    <div class="detail-icon">
      <img src="img/LightWater.svg">
    </div>
    <section class="water-details">
       {{detail.water_type}}, {{detail.total_water_amount}} {{detail.water_units}} @ {{detail.temp}} &deg;F
    </section> <!-- end section.water-details-->
    <div class="detail-icon">
      <img src="img/LightTimer.svg">
    </div>
    <section class="brew-time">
      {{detail.total_duration}} sec, {{detail.orientation}}
    </section> <!-- end section.brew-time -->
    <section class="icons">
      <img class="edit-icon recipe-view edit-button" ng-Click="" src="img/edit-25.svg"/>
      <img class="trash-icon" ng-click="EliminateRecipe()" src="img/delete-25.svg"/>
    </section>
  </div><!--end div.details -->
  <!-- <img class="edit-icon recipe-view edit-button" ng-Click="" src="img/edit-25.svg"/>
  <img class="trash-icon" ng-click="EliminateRecipe()" src="img/delete-25.svg"/> -->
<!-- <br>
<br> -->

  <!-- <p>{{detail.general_recipe_comment}}<p> -->
    <!-- <button ng-Click="cloneRecipe(detail)">Clone</button> -->
  <!-- <button>Make Public</button> -->



  <!-- <strong>Brew Count:</strong> {{detail.brew_count}} brews -->

  <br>
  <!-- steps section -->
  <section class="step-list">
    <h2>Steps</h2>
    <div ng-repeat="step in steps">
      <a href="" class="show-steps" ng-click="showSteps(step.id)"><strong>{{step.step_title}}</strong> </a><p>{{step.duration}} seconds</p>
    <article class="step {{step.id}} hidden">
      <p>{{step.step_body}}<p>
      <p ng-show="step.water_amount">Water: {{step.water_amount}} {{detail.water_units}}</p>
    <img ng-click="showEditStep(step.id)" class="edit-icon" src="img/noun_edit.svg"/><!--Created by Daniel Boros from the Noun Project-->
    <img ng-click="deleteStep(step.step_number, step.id)" class="trash-icon" src="img/noun_trash.svg"/><!--Created by Pham Thi Dieu Linh from the Noun Project-->
    </article>
    <!-- edit step form -->
    <div class="hidden edit-step {{step.id}}">
      <form ng-submit="editStep(step)">
        <section class="columns general">
          <input list="step-title" maxlength="50" type="text" ng-model="step.step_title" required placeholder="Action *" required>
            <datalist id="step-title">
              <option value="Pour">
              <option value="Bloom">
              <option value="Steep">
              <option value="Plunge">
            </datalist>
          </input>
          <textarea maxlength="255" type="text" placeholder="Additional Notes" ng-model="step.step_body"></textarea>
        <!-- </section>
        <section class="columns steps"> -->
          <input type="number" placeholder="Step Number *" ng-model="step.step_number" min="1" max="32767" required></input>
          <input type="number"  placeholder="Duration in sec. *" ng-model="step.duration" min="1" max="32767" required></input>
          <input type="number" min="0" max="32767" placeholder="Water Amount (in {{detail.water_units}})" ng-model="step.water_amount"> </input>
        </section>
        <div class="columns general">
          <button type="submit">Save</button>
          <!-- <button><a href="#/recipe/brew">BREW IT!</a></button> -->
        </div>
      </form><!--edit Step Form-->
      <button ng-click="hideEditStep(step.id)">Cancel</button>
      </div> <!-- edit step form div -->
      <br>
    </div> <!--end ng-repeat for steps -->
  </section><!--END .step-list-->

  <!-- <div class="addSteps" ng-controller="createNewStep"> -->
  <div class="addSteps">
    <button ng-click="showAddSteps()">Add Steps</button>
    <form class="hidden create-new-step"  ng-submit="submit()">
      <section class="columns general">
        <input list="step-title" maxlength="50" type="text" ng-model="step.step_title" required placeholder="Action *" required>
          <datalist id="step-title">
            <option value="Pour">
            <option value="Bloom">
            <option value="Steep">
            <option value="Plunge">
          </datalist>
        </input>
        <textarea maxlength="255" type="text" placeholder="Additional Notes" ng-model="step.step_body"></textarea>
      <!-- </section>
      <section class="columns steps"> -->
        <input type="number" placeholder="Step Number *" ng-model="step.step_number" min="1" max="32767" required></input>
        <input type="number"  placeholder="Duration in sec. *" ng-model="step.duration" min="1" max="32767" required></input>
        <input type="number" min="0" max="32767" placeholder="Water Amount (in {{detail.water_units}})" ng-model="step.water_amount"> </input>
      </section>
      <div class="columns general">
        <button type="submit">Add Step</button>
        <!-- <button><a href="#/recipe/brew">BREW IT!</a></button> -->
      </div>
    </form><!--Add Step Form-->
    <button class="hidden done-adding" ng-click="hideAddSteps()">Done Adding Steps</button>
  </div> <!-- add step section -->
  <!--Brew notes -->
  <!-- <a href="" ng-click="showNotes()"><h2>Brew Notes:</h2></a> -->
  <h2>Brew Notes</h2>
  <button ng-click="addNote=true" class="add-brew-note">Add Brew Note</button>
  <section ng-show="addNote" class="brew-form" >
  <form ng-submit="addBrewNote()">
        <!-- <label>Add Brew Note</label> -->
        <textarea required type="text" ng-model="brewnote.body" placeholder="Brew Note"></textarea>
        <button class="save-note" type="submit">Save Note</button>
  </form>
        <button ng-click="addNote=false" class="cancel-note">Cancel Note</button>
  </section> <!-- add brewnote section -->

  <div class="notes" ng-repeat="note in notes | orderBy: 'note.timestamp'">
    <div class="note-view{{note.id}}">
      <strong>{{note.body}}</strong>
      <br>
      posted {{note.timestamp | date}}
      <br>
      <br>
      <img class="edit-icon" ng-Click="showEditNote(note.id)" src="img/noun_edit.svg"/><!--Created by Daniel Boros from the Noun Project-->
      <img class="trash-icon" ng-Click="deleteNote(note.id)" src="img/noun_trash.svg"/><!--Created by Pham Thi Dieu Linh from the Noun Project-->
    </div>
      <article class="edit-note{{note.id}} hidden">
        <form class="edit-note" ng-submit="editNote(note)"><!--edit brew-note form-->
            <textarea required type="text" ng-model="note.body" placeholder="{{note.body}}"></textarea>
            <button class="save-note" type="submit">Save Edit</button>
        </form><!--END edit-note form-->
      </article><!--END edit-note article-->
  </div> <!-- .notes -->
</section><!--.recipe-view-->




<section class="edit-recipe hidden">
<form class="edit-recipe" ng-submit="editRecipe(detail)">
  <section class="columns general">
  <fieldset>
    <input placeholder="Title *" maxlength="50"  ng-model="detail.title" required></input>
    <textarea placeholder="Comments"  ng-model="detail.general_recipe_comment"></textarea>
  </fieldset><!--General Details-->
  </section>
  <section class="columns">
    <fieldset>
      <legend><h4>Bean Details</h4></legend>
      <input maxlength="50" placeholder="Name"  ng-model="detail.bean_name"></input>
      <select list="roast" maxlength="15" placeholder="Roast" ng-model="detail.roast" id="roast">
        <option value="" disabled selected hidden>{{detail.roast}}</option>
        <option value="Light">Light</option>
        <option value="Medium">Medium</option>
        <option value="Med-Dark">Med-Dark</option>
        <option value="Dark">Dark</option>
        <option value="Extra-Dark">Extra-Dark</option>
      </select>
      <input list="grind" maxlength="12" placeholder="Grind" ng-model="detail.grind">
        <datalist id="grind">
          <option value="Fine">
          <option value="Medium">
          <option value="Coarse">
        </datalist>
      </input>
      <input type="number" min="0" max="32767" ng-model="detail.total_bean_amount" placeholder="Amount"></input>
      <select id="bean-units" list="bean-units" maxlength="12" placeholder="Units" ng-model="detail.bean_units">
        <option value="{{detail.bean_units}}" disabled selected hidden>{{detail.bean_units}}</option>
        <option value="g">g</option>
        <option value="oz">oz</option>
        <option value="scoops">scoops</option>
      </select>
  </fieldset><!--Bean Details-->
  </section>
  <section class="columns">
    <fieldset>
      <legend><h4>Water Details</h4></legend>
      <input list="water-type" maxlength="50" placeholder="Type" ng-model="detail.water_type">
        <datalist id="water-type">
          <option value="Tap">
          <option value="Distilled">
          <option value="Spring">
          <option value="Deionized">
        </datalist>
      <input type="number" min="0" max="32767" placeholder="Amount" ng-model="detail.total_water_amount"></input>
        <select id="water-units"list="water-units" maxlength="12" ng-model="detail.water_units" placeholder="Units">
          <option value="{{detail.water_units}}" disabled selected hidden>{{detail.water_units}}</option>
          <option value="oz">oz</option>
          <option value="cc">cc</option>
          <option value="mL">mL</option>
        </select>
      <input type="number" placeholder="Temp in &deg;F" ng-model="detail.temp" max="32767"></input>
      <select list="orientation" placeholder="Orientation" ng-model="detail.orientation"  id="orientation">
        <option value="{{detail.orientation}}" disabled selected hidden>{{detail.orientation}}</option>
        <option value="Standard">Standard</option>
        <option value="Inverted">Inverted</option>
      </select>
    </fieldset><!--Water Details-->
  </section>
  <button class="submit-recipe-edit" type="submit">Submit</button>
</form><!--Edit Recipe Form-->
</section>
</section><!--.recipe-detail-->
