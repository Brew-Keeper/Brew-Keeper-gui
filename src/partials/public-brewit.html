<section class="brewit-page">
  <nav class="brewit-nav">
    <a class="brewit-title" href="#public/{{detail.id}}"><h2 class="brewit-title">{{detail.title}}</h2></a>
    <a href="" class="reset-brew clicker-button" ng-click="resetBrew()">RESET</a>
    <div class="stars" ng-show="showStars">    <!--star ratings-->
      <span ng-hide="username" ng-repeat="rating in ratings" class="rating">
      <div view-rating rating-value="rating.current" max="rating.max" ng-click="" class="rating public"></div>
      </span>
      <section ng-show="username">
        <span ng-hide="ratingId" ng-repeat="rating in ratings" class="rating">
          <div star-rating rating-value="rating.current" max="rating.max" ng-click="rateRecipe(rating.current)" class="rating public"></div>
        </span>
        <span ng-show="ratingId" ng-repeat="userRating in userRatings" class="rating">
          <div star-rating rating-value="userRating.current" max="userRating.max" ng-click="rateRecipe(userRating.current)" class="rating"></div>
        </span>
      </section>
    </div>    <!--end star ratings-->
  </nav>
  <section class="brew-form hidden" >
    <form ng-submit="addBrewNote()">
      <textarea required type="text" ng-model="brewnote.body" placeholder="Brew Note"></textarea>
      <button class="save-note" type="submit">Save</button>
    </form>
  </section><!--END brew-form-->
  <div class="step delay restart hidden" ng-click="reStartBrew()">
    <p class="">Restart Brew</p>
    <img src="img/CoffeeCup.svg"/>
  </div>
  <div class="time-{{detail.total_duration}}">
  </div>
  <div class="step delay countdown inactive-step">
  <p class="countdown">COUNTDOWN</p>
    <p class="counting"><timer class="countdown counting" interval="1000" countdown="13" finish-callback="startBrew(detail.brew_count)">{{seconds}}</timer></p>
  </div><!-- END countdown timer-->
  <div ng-repeat="step in steps | orderBy: 'step_number'" class="step inactive-step {{step.step_number}}">
    <p class="stepOf"><span>{{stepArray.indexOf(step.step_number)+1}}</span> of {{stepTotal}}</p>
    <article class="step-box">
      <p class="step-name">{{step.step_title | uppercase}}</p>
      <p class="water {{step.step_number}}" ng-show="step.water_amount">{{step.water_amount}} {{detail.water_units}}</p>
      <timer class="counting {{step.step_number}} hidden" autostart="false" interval="1000" countdown="step.duration" finish-callback="nextStep(step.step_number, detail.brew_count)"><p><span ng-show="minutes">{{minutes}}:{{sseconds}}</span><span ng-hide="minutes">{{seconds}}</span></p></timer>
    </article>
    <p class="step-body">{{step.step_body}}</p>
  </div><!--END Steps-->
</section><!--END brewit-page-->
